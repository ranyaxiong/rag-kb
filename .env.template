# RAG知识库环境配置模板
# 复制此文件为 .env 并根据需要修改配置

# ==== API密钥配置 ====
# 选择一种方式配置API密钥（推荐使用环境变量或keyring）

# OpenAI API Key
# API_KEY=sk-your-openai-api-key-here

# DeepSeek API Key (推荐 - 免费额度大)
# API_KEY=sk-your-deepseek-api-key-here

# Zhipu AI API Key
# ZHIPU_API_KEY=your-zhipu-api-key-here

# ==== LLM提供商配置 ====
LLM_PROVIDER=openai
EMBEDDING_PROVIDER=openai

# 自定义API端点（可选）
# API_BASE_URL=https://api.openai.com/v1
# EMBEDDING_API_BASE_URL=https://api.openai.com/v1

# ==== 服务器配置 ====
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
FRONTEND_HOST=0.0.0.0
FRONTEND_PORT=8501

# ==== CORS安全配置 ====
# 开发环境 - 本地访问
ALLOWED_ORIGINS=http://localhost:8501,http://127.0.0.1:8501

# 生产环境示例 - 替换为你的域名
# ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# 允许的HTTP方法
ALLOWED_METHODS=GET,POST,DELETE

# 允许的请求头
ALLOWED_HEADERS=Content-Type,Authorization

# ==== 安全配置 ====
# 生产环境必须设置为 False
DEBUG=True

# ==== 存储配置 ====
UPLOAD_DIR=./data/uploads
CHROMA_DB_PATH=./data/chroma_db

# ==== RAG配置 ====
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
MAX_SOURCES=3
SIMILARITY_THRESHOLD=0.7

# ==== 成本优化配置 ====
ENABLE_EMBEDDING_CACHE=True
ENABLE_QA_CACHE=True
EMBEDDING_CACHE_TTL_DAYS=7
QA_CACHE_TTL_HOURS=24

# LLM优化
LLM_TEMPERATURE=0.1
LLM_MAX_TOKENS=800
EMBEDDING_BATCH_SIZE=100
MAX_CONTEXT_LENGTH=4000